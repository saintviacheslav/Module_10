"use strict";(self.webpackChunksocialnetwork=self.webpackChunksocialnetwork||[]).push([[226],{7226(t,s,e){e.r(s),e.d(s,{default:()=>L});var a=e(8169);const i="chartswitcher_themeBlock__wyjsc",c="chartswitcher_dark__J5RwJ",l="chartswitcher_themeCircle__Y6dVn",r="chartswitcher_themeCircleActive__BcCua";var n=e(2802),o=e(6930),d=e(579);function h(t){let{isChart:s,onToggle:e}=t;const{t:a}=(0,o.Bd)();return(0,d.jsx)(n.A,{name:a(s?"statistics.tableView":"statistics.chartView"),onClick:e,className:"".concat(i," ").concat(s?c:""),children:(0,d.jsx)("div",{className:"".concat(l," ").concat(s?r:"")})})}const x={secondaryText:"statistics_secondaryText__c1Y1k",primaryText:"statistics_primaryText__5LaZ0",statistics:"statistics_statistics__ImlxQ",cards:"statistics_cards__1-PtI",card:"statistics_card__7Qxku",cardTextPrimary:"statistics_cardTextPrimary__w4+ho",cardTextSecondary:"statistics_cardTextSecondary__LIyIB",cardTitle:"statistics_cardTitle__CuQiW",statsTables:"statistics_statsTables__jhMEy",likesTable:"statistics_likesTable__D5ztV",titleTable:"statistics_titleTable__cYMo0",statsTable:"statistics_statsTable__uRuhM",colName:"statistics_colName__aIYr1",colValue:"statistics_colValue__QmDFt",tableTitle:"statistics_tableTitle__tn1rY",head:"statistics_head__hQaGw",headRight:"statistics_headRight__w2I55",cell:"statistics_cell__ZOBAi",cellRight:"statistics_cellRight__LjOKt",chartSwitcher:"statistics_chartSwitcher__3LXY0",nonVisible:"statistics_nonVisible__QV5wn"};var m=e(5043),j=e(8892),_=e(1180),y=e(5748),u=e(7734),b=e(2185),N=e(6026),k=e(3670),v=e(7366);function g(t){let{data:s}=t;return(0,d.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,d.jsx)(_.u,{children:(0,d.jsxs)(y.b,{data:s,margin:{top:20,right:30,left:0,bottom:10},children:[(0,d.jsx)(u.d,{strokeDasharray:"none",stroke:"var(--border-soft)",vertical:!1}),(0,d.jsx)(b.W,{dataKey:"date",stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontFamily:"Inter, sans-serif",fontSize:13,fontWeight:400},axisLine:{stroke:"var(--border-soft)"},tickLine:!1}),(0,d.jsx)(N.h,{stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontFamily:"Inter, sans-serif",fontSize:13,fontWeight:400},axisLine:!1,tickLine:!1,tickFormatter:t=>"".concat(t)}),(0,d.jsx)(k.m,{contentStyle:{backgroundColor:"var(--bg-surface)",border:"1px solid var(--border-soft)",borderRadius:"8px",color:"var(--text-primary)"},labelStyle:{color:"var(--text-primary)"},itemStyle:{color:"var(--text-primary)"}}),(0,d.jsx)(v.N1,{type:"monotone",dataKey:"likes",stroke:"var(--charts-color)",strokeWidth:2,dot:t=>{const{cx:e,cy:a,index:i}=t;return i===s.length-1?(0,d.jsx)(j.c,{cx:e,cy:a,r:6,fill:"var(--text-secondary)",stroke:"var(--bg-surface)",strokeWidth:2}):null},activeDot:{r:8,stroke:"var(--text-primary)",strokeWidth:2,fill:"var(--bg-surface)"}})]})})})}var p=e(2291),f=e(8825);function T(t){let{data:s}=t;return(0,d.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,d.jsx)(_.u,{children:(0,d.jsxs)(p.E,{data:s,margin:{top:20,right:30,left:0,bottom:10},children:[(0,d.jsx)(u.d,{strokeDasharray:"none",stroke:"var(--border-soft)",vertical:!1}),(0,d.jsx)(b.W,{dataKey:"month",stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontFamily:"Inter, sans-serif",fontSize:13,fontWeight:400},axisLine:{stroke:"var(--border-soft)"},tickLine:!1}),(0,d.jsx)(N.h,{stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontFamily:"Inter, sans-serif",fontSize:13,fontWeight:400},axisLine:!1,tickLine:!1}),(0,d.jsx)(k.m,{contentStyle:{backgroundColor:"var(--bg-surface)",border:"1px solid var(--border-soft)",borderRadius:"8px",color:"var(--text-primary)"},labelStyle:{color:"var(--text-primary)"}}),(0,d.jsx)(f.yP,{dataKey:"comments",fill:"var(--charts-color)",radius:[4,4,0,0],barSize:24})]})})})}var w=e(2532),S=e(1599);function L(){const{t:t}=(0,o.Bd)(),[s,e]=(0,m.useState)(!1),{user:i}=(0,a.A)(),{data:c=[],isLoading:l}=(0,w.I)({queryKey:["me","posts"],queryFn:async()=>{const{data:t}=await S.F.get("/api/me/posts");return t},enabled:!!i}),{data:r=0,isLoading:n}=(0,w.I)({queryKey:["me","likes","count"],queryFn:async()=>{var t;const{data:s}=await S.F.get("/api/me/likes/count");return null!==(t=s.count)&&void 0!==t?t:0},enabled:!!i}),{data:j=0,isLoading:_}=(0,w.I)({queryKey:["me","comments","count"],queryFn:async()=>{var t;const{data:s}=await S.F.get("/api/me/comments/count");return null!==(t=s.count)&&void 0!==t?t:0},enabled:!!i}),y=c.length,u=c.slice(0,7).map(t=>({date:new Date(t.creationDate).toLocaleDateString("en-EN",{day:"numeric",month:"short"}),likes:t.likesCount||0})),b=c.slice(0,7).map(t=>({month:new Date(t.creationDate).toLocaleDateString("en-EN",{day:"numeric",month:"short"}),comments:t.commentsCount||0})),N=c.slice(0,7).map(t=>({title:t.title,likes:t.likesCount||0,dislikes:0})),k=c.slice(0,7).map(t=>({title:t.title,commentsCount:t.commentsCount||0,totalLikes:0})),v=l||n||_;return(0,d.jsxs)("div",{className:x.statistics,children:[(0,d.jsxs)("div",{className:x.cards,children:[(0,d.jsxs)("div",{className:x.card,children:[(0,d.jsx)("p",{className:x.cardTextPrimary,children:t("statistics.posts")}),(0,d.jsx)("h1",{className:x.cardTitle,children:v?"...":y}),(0,d.jsx)("p",{className:x.cardTextSecondary,children:t("statistics.perMonth")})]}),(0,d.jsxs)("div",{className:x.card,children:[(0,d.jsx)("p",{className:x.cardTextPrimary,children:t("statistics.likes")}),(0,d.jsx)("h1",{className:x.cardTitle,children:v?"...":r}),(0,d.jsx)("p",{className:x.cardTextSecondary,children:t("statistics.perMonth")})]}),(0,d.jsxs)("div",{className:x.card,children:[(0,d.jsx)("p",{className:x.cardTextPrimary,children:t("statistics.comments")}),(0,d.jsx)("h1",{className:x.cardTitle,children:v?"...":j}),(0,d.jsx)("p",{className:x.cardTextSecondary,children:t("statistics.perMonth")})]})]}),(0,d.jsxs)("div",{className:x.chartSwitcher,children:[s?(0,d.jsx)("p",{className:x.nonVisible,children:t("statistics.tableView")}):null,(0,d.jsx)(h,{isChart:s,onToggle:()=>e(t=>!t)}),(0,d.jsx)("p",{children:t(s?"statistics.chartView":"statistics.enableChartView")})]}),v?(0,d.jsxs)("p",{className:x.loading,children:[t("common.loading"),"..."]}):(0,d.jsxs)("div",{className:x.statsTables,children:[(0,d.jsxs)("div",{className:x.likesTable,children:[(0,d.jsx)("p",{className:x.titleTable,children:t("statistics.likes")}),s?(0,d.jsx)("div",{className:x.statsTable,children:(0,d.jsx)(g,{data:u})}):(0,d.jsxs)("table",{className:x.statsTable,children:[(0,d.jsxs)("colgroup",{children:[(0,d.jsx)("col",{className:x.colName}),(0,d.jsx)("col",{className:x.colValue}),(0,d.jsx)("col",{className:x.colValue})]}),(0,d.jsxs)("thead",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:x.tableTitle,children:t("statistics.title")}),(0,d.jsx)("th",{}),(0,d.jsx)("th",{})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:x.head,children:t("statistics.col1")}),(0,d.jsx)("th",{className:x.headRight,children:t("statistics.col2")}),(0,d.jsx)("th",{className:x.headRight,children:t("statistics.col3")})]})]}),(0,d.jsx)("tbody",{children:N.length>0?N.map((t,s)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:x.cell,children:t.title}),(0,d.jsx)("td",{className:x.cellRight,children:t.likes}),(0,d.jsx)("td",{className:x.cellRight,children:t.dislikes})]},s)):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{className:x.cell,colSpan:3,children:t("statistics.noData")})})})]})]}),(0,d.jsxs)("div",{className:x.likesTable,children:[(0,d.jsx)("p",{className:x.titleTable,children:t("statistics.comments")}),s?(0,d.jsx)("div",{className:x.statsTable,children:(0,d.jsx)(T,{data:b})}):(0,d.jsxs)("table",{className:x.statsTable,children:[(0,d.jsxs)("colgroup",{children:[(0,d.jsx)("col",{className:x.colName}),(0,d.jsx)("col",{className:x.colValue}),(0,d.jsx)("col",{className:x.colValue})]}),(0,d.jsxs)("thead",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:x.tableTitle,children:t("statistics.title")}),(0,d.jsx)("th",{}),(0,d.jsx)("th",{})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{className:x.head,children:t("statistics.col1")}),(0,d.jsx)("th",{className:x.headRight,children:t("statistics.col2")}),(0,d.jsx)("th",{className:x.headRight,children:t("statistics.col3")})]})]}),(0,d.jsx)("tbody",{children:k.length>0?k.map((t,s)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{className:x.cell,children:t.title}),(0,d.jsx)("td",{className:x.cellRight,children:t.commentsCount}),(0,d.jsx)("td",{className:x.cellRight,children:t.totalLikes})]},s)):(0,d.jsx)("tr",{children:(0,d.jsx)("td",{className:x.cell,colSpan:3,children:t("statistics.noData")})})})]})]})]})]})}}}]);
//# sourceMappingURL=226.64523ad3.chunk.js.map