"use strict";(self.webpackChunksocialnetwork=self.webpackChunksocialnetwork||[]).push([[643],{7643(e,i,a){a.r(i),a.d(i,{default:()=>I});var r=a(2802),t=a(1365),n=a(5356);const l={profileInfo:"profileinfo_profileInfo__+nJOl",segmentedControl:"profileinfo_segmentedControl__JHddp",segmentedTextActive:"profileinfo_segmentedTextActive__cJZXy",segmentedText:"profileinfo_segmentedText__wk+6T",secondaryText:"profileinfo_secondaryText__N3h0Z",primaryText:"profileinfo_primaryText__IB5y0",hint:"profileinfo_hint__BkH7I",hintContent:"profileinfo_hintContent__G7r40",textarea:"profileinfo_textarea__Eak45",textareaError:"profileinfo_textareaError__QEWaH",textareaErrorText:"profileinfo_textareaErrorText__fwVXB",validateInfo:"profileinfo_validateInfo__dPsDj",title:"profileinfo_title__UVzRO",editContent:"profileinfo_editContent__lyysi",editProfileForm:"profileinfo_editProfileForm__FWT1P",profileInfoBlock:"profileinfo_profileInfoBlock__AsQqY",userMainInfo:"profileinfo_userMainInfo__Gajgw",avatarPicture:"profileinfo_avatarPicture__0R96O",inputBlock:"profileinfo_inputBlock__HAmID",editPreferencesBlock:"profileinfo_editPreferencesBlock__3fBax",editPreferencesItem:"profileinfo_editPreferencesItem__J7NuH",themeSwitcher:"profileinfo_themeSwitcher__wjhmL",languageSwitcher:"profileinfo_languageSwitcher__UhT8f"};var s=a(1134),o=a(5043),c=a(8169),m=a(5029);const d="themeswitcher_themeBlock__7ZLf1",f="themeswitcher_dark__pDvNN",h="themeswitcher_themeCircle__LgXk9",u="themeswitcher_themeCircleActive__da5g6";var p=a(579);function _(){const{theme:e,toggleTheme:i}=(0,s.DP)(),a=e===s.Sx.DARK;return(0,p.jsx)(r.A,{onClick:i,className:"".concat(d," ").concat(a?f:""),children:(0,p.jsx)("div",{className:"".concat(h," ").concat(a?u:"")})})}var x=a(6930);const v="LanguageSwitcher_wrapper__1zYzK",g="LanguageSwitcher_langButton__k26f0",j="LanguageSwitcher_active__kix2O",N=[{code:"en",label:"EN"},{code:"ru",label:"RU"}];function k(){const{i18n:e}=(0,x.Bd)();return(0,p.jsx)("div",{className:v,children:N.map(i=>{let{code:a,label:r}=i;return(0,p.jsx)("button",{type:"button",className:"".concat(g," ").concat(e.language===a?j:""),onClick:()=>e.changeLanguage(a),children:r},a)})})}var C=a(901),P=a(6573),T=a(6245),w=a(5324);function I(){var e,i;const{t:a}=(0,x.Bd)(),d=(0,m.Zp)(),{theme:f}=(0,s.DP)(),{user:h,logout:u}=(0,c.A)(),{values:v,errors:g,setFieldValue:j,setFieldError:N}=(0,C.m)({username:"",email:"",description:""}),{addToast:I}=(0,T.d)(),[y,B]=(0,o.useState)(null),L=(0,o.useRef)(null),A=50,S=v.username.length===A,b=v.email.length===A;function E(){var e;null===(e=L.current)||void 0===e||e.click()}return(0,o.useEffect)(()=>()=>{y&&URL.revokeObjectURL(y)},[y]),(0,p.jsxs)("div",{className:l.editContent,children:[(0,p.jsxs)("form",{className:l.editProfileForm,onSubmit:function(e){e.preventDefault(),N("email",""),N("username","");let i=!1;if(""!==v.email.trim()){const e=(0,P.DT)(v.email,a);e&&(N("email",e),i=!0)}const r=(0,P.TU)(v.username,a);r&&(N("username",r),i=!0),S&&(i=!0,N("username",a("errors.usernameMaxLength",{max:A}))),b&&(i=!0,N("email",a("errors.emailMaxLength",{max:A}))),200===v.description.length&&(i=!0),i||I(a("profile.profileUpdated"),{type:"success"})},children:[(0,p.jsx)("h1",{className:l.title,children:a("profile.editProfile")}),(0,p.jsxs)("div",{className:l.userMainInfo,children:[(0,p.jsx)("img",{onClick:E,className:l.avatarPicture,src:y||"".concat("/Module_10","/").concat(null===h||void 0===h?void 0:h.avatar),alt:"avatar"}),(0,p.jsx)("input",{type:"file",ref:L,accept:"image/jpeg,image/png,image/svg+xml",style:{display:"none"},onChange:function(e){var i;const a=null===(i=e.target.files)||void 0===i?void 0:i[0];if(!a)return;if(!["image/jpeg","image/png","image/svg+xml"].includes(a.type))return;const r=URL.createObjectURL(a);B(r),e.target.value=""}}),(0,p.jsxs)("div",{className:l.userMainText,children:[(0,p.jsxs)("p",{className:l.primaryText,children:[null===h||void 0===h?void 0:h.name," ",null===h||void 0===h?void 0:h.surname]}),(0,p.jsx)("p",{style:{cursor:"pointer"},onClick:E,className:l.secondaryText,children:a("profile.changeProfilePhoto")})]})]}),(0,p.jsxs)("div",{className:l.profileInfoBlock,children:[(0,p.jsxs)("div",{className:l.inputBlock,children:[(0,p.jsxs)("div",{className:l.hint,children:[(0,p.jsxs)("div",{className:l.hintContent,children:[(0,p.jsx)(w.I,{name:"user"}),(0,p.jsx)("p",{children:a("profile.username")})]}),g.username&&(0,p.jsx)(w.I,{name:"cross-small"})]}),(0,p.jsx)(t.A,{onChange:e=>{const i=e.target.value;i.length<=A&&j("username",i),g.username&&N("username","")},value:v.username,type:"text",placeholder:null!==(e=null===h||void 0===h?void 0:h.username)&&void 0!==e?e:"@username",status:g.username||S?"error":"default",errorText:g.username||(S?a("modalPost.characterLimit",{max:A}):"")})]}),(0,p.jsxs)("div",{className:l.inputBlock,children:[(0,p.jsxs)("div",{className:l.hint,children:[(0,p.jsxs)("div",{className:l.hintContent,children:[(0,p.jsx)(w.I,{name:"envelope"}),(0,p.jsx)("p",{children:a("auth.email")})]}),g.email&&(0,p.jsx)(w.I,{name:"cross-small"})]}),(0,p.jsx)(t.A,{onChange:e=>{const i=e.target.value;i.length<=A&&j("email",i),g.email&&N("email","")},value:v.email,type:"text",placeholder:null!==(i=null===h||void 0===h?void 0:h.email)&&void 0!==i?i:"example@mail.com",status:g.email||b?"error":"default",errorText:g.email||(b?a("modalPost.characterLimit",{max:A}):"")})]}),(0,p.jsxs)("div",{className:l.inputBlock,children:[(0,p.jsx)("div",{className:l.hint,children:(0,p.jsxs)("div",{className:l.hintContent,children:[(0,p.jsx)(w.I,{name:"pencil"}),(0,p.jsx)("p",{children:a("profile.description")})]})}),(0,p.jsx)(n.A,{value:v.description,onChange:e=>j("description",e),maxLength:200,placeholder:a("profile.writeDescriptionPlaceholder"),textareaClassName:200===v.description.length?l.textareaError:l.textarea})]}),(0,p.jsx)(r.A,{name:a("profile.saveProfileChanges")})]})]}),(0,p.jsxs)("div",{className:l.editPreferencesBlock,children:[(0,p.jsxs)("div",{className:l.editPreferencesItem,children:[(0,p.jsx)("h1",{className:l.title,children:a("common.preferences")}),(0,p.jsxs)("div",{className:l.themeSwitcher,children:[(0,p.jsx)(_,{}),(0,p.jsx)("p",{className:l.primaryText,children:a("light"===f?"theme.light":"theme.dark")})]}),(0,p.jsxs)("div",{className:l.languageSwitcher,children:[(0,p.jsx)(k,{}),(0,p.jsx)("p",{className:l.primaryText,children:a("common.language")})]})]}),(0,p.jsxs)("div",{className:l.editPreferencesItem,children:[(0,p.jsx)("h1",{className:l.title,children:a("common.actions")}),(0,p.jsx)(r.A,{name:a("common.logout"),onClick:function(){u(),d("/")}})]})]})]})}}}]);
//# sourceMappingURL=643.80539fa2.chunk.js.map